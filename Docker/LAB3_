AWS Console > Create EC2 Linux Instance > Connect with the Linux Instance > Install docker 
   " Sudo -i
    yum install docker -y
    service docker status
    service docker start "
> pull httpd image from docker hub
  " docker pull httpd 
    docker images "
> Aws Console > ECR > Create Repository > AWS COnsole > IAM > Policies > Create Policy > Click JSON
  " {
    "Version":"2012-10-17",		 	 	 
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "ecr:CompleteLayerUpload",
                "ecr:GetAuthorizationToken",
                "ecr:UploadLayerPart",
                "ecr:InitiateLayerUpload",
                "ecr:BatchCheckLayerAvailability",
                "ecr:PutImage"
            ],
             "Resource": "*"
        }
    ]
}
> Create policy > Roles > Create role > Select EC2 > Select the created role > Create role > EC2 > Select the Instance and Modify IAM Role 
> ECR > View push commands > Copy the authentication code and paste it in EC2 Linux instance 
  " aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 995876471567.dkr.ecr.us-east-1.amazonaws.com
> Login succeeded > copy the tag and push command from the ecr and paste it in EC2 Linux instance 
  " docker tag demorepository:latest 995876471567.dkr.ecr.us-east-1.amazonaws.com/demorepository:latest
    docker push 995876471567.dkr.ecr.us-east-1.amazonaws.com/demorepository:latest "
> Now we can see our image in ecr repository > AWS Console > ECS > create cluster > Select Fargate and self managed instance 
and enable create new autoscaling > create clusters > AWS Console > IAM > Roles > Create new role > select aws services:ecs-tasks with these policy permissions 
  " AmazonECSTaskExecutionRolePolicy
    CloudWatchLogsFullAccess "
> Task definition > create new task definition > Select ec2 and select the Iam role which we have created and give the image name and port 
> Create taskdefinition > 

